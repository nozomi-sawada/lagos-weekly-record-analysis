# Lagos Weekly Record 地理・キーワード分析アプリケーション

[English version](README.en.md) | [言語選択ハブ](README.md)

## 概要
このアプリケーションは、1891年から1921年にかけて発行された「Lagos Weekly Record」というナイジェリアの歴史的新聞内における地理的言及パターンとキーワード分析を行うための対話型可視化ツールです。歴史研究者や言語学者、デジタルヒューマニティーズの専門家向けにデザインされています。

**主な機能**:
- テキスト内の地名言及を世界地図上にビジュアライズ
- 高度なコンテキスト分析による関連引用文の自動抽出
- キーワードの時系列分析と共起語分析
- 6つの時代区分（1891-1895, 1896-1900, 1901-1905, 1906-1910, 1911-1915, 1916-1921）によるフィルタリング


## 使用方法

### 1. データのアップロード
アプリケーションを使用するには、2種類のCSVファイルが必要です。

1. **分析用CSVファイル**: 記事テキストデータを含むファイル
   - 「Select Analysis CSV」ボタンをクリックしてアップロード

2. **地名データファイル**: 地名と座標情報を含むファイル
   - 「Upload Location Data」ボタンをクリックしてアップロード

両方のファイルをアップロードすると「Start Analysis」ボタンが表示されます。

### 2. 地理的分析
- 地図上には地名の言及頻度に応じたサイズと色のマーカーが表示されます（青色の濃さで頻度を表現）
- サイドバーには言及頻度の高い順に地名リストが表示されます
- 任意の地名をクリックすると詳細情報が表示され、地図上の対応するマーカーにズームします
- 「Show Quotes」ボタンをクリックすると、その地名に関連する代表的な引用文（最大3つ）が表示されます
- 各引用文には関連性スコア（20点満点）とビジュアルメーターが表示されます

### 3. 時代別フィルタリング
- 上部の時代区分ボタン（例：「1891-1895」）をクリックして特定の時代のみのデータを表示できます
- 「Show All Years」ボタンで全期間のデータに戻ります

### 4. キーワード分析
- 「Keyword Analysis」タブをクリック
- キーワード入力欄に分析したい単語を入力（複数の場合はカンマ区切り、例：「Yoruba, Yorubas」）
- 「Analyze」ボタンをクリック
- 結果に以下が表示されます：
  - キーワードの年別言及回数グラフ（クリックで拡大可能）
  - 関連する主要テーマとそれを代表する単語
  - キーワードと共起頻度の高い単語リスト
  - 関連性スコア付きの代表的引用文

## データ形式要件

### 分析用CSVファイル
以下のカラムを含むCSVファイルを準備してください：

| カラム名 | 説明 | 必須 |
|---------|------|------|
| `text` | 記事の本文テキスト | 必須 |
| `Year` または `year` | 発行年（数値） | 必須 |
| `Publication Date` または `Publication Date ` | 発行日 | 任意 |
| `no` または `id` | 記事ID | 任意 |

### 地名データCSVファイル
以下のカラムを含むCSVファイルを準備してください：

| カラム名 | 説明 | 必須 |
|---------|------|------|
| `placename` | 地名 | 必須 |
| `latitude` | 緯度（小数点形式、例: 6.4550） | 必須 |
| `longitude` | 経度（小数点形式、例: 3.3841） | 必須 |

> **注意**: カラム名は大文字小文字を区別せずに認識されますが、正確に上記の名前を使用することを推奨します。

## 技術詳細

### 使用ライブラリ
- **Leaflet.js**: 対話型地図表示
- **PapaParse**: CSVファイル解析
- **その他の技術**: HTML5, CSS3, JavaScript (ES6+)

### 主要機能の実装詳細

#### コンテキスト分析
テキスト内での地名・キーワードの重要度を以下の要素から評価：
- テキスト内の位置（冒頭・結論部は重要度高）
- 重要キーワードとの近接性
- 局所的な言及密度
- 文や段落の構造的位置

#### 引用文スコアリング
0〜20点のスコアリングシステムで引用文の関連性を評価し、最も重要な引用を自動抽出します。

#### テーマ分類
キーワード周辺の語彙パターンを分析し、以下のテーマカテゴリに自動分類：
- 政治的（Political）
- 文化的（Cultural）
- 経済的（Economic）
- 教育（Education）
- 社会的（Social）
- 地理的（Geographic）
- 植民地関係（Colonial Relations）

## ライセンス

Copyright © 2025 Nozomi Sawada

このアプリケーションはクリエイティブ・コモンズ 表示-非営利 4.0 国際ライセンス（CC BY-NC 4.0）の下で提供されています。

- 学術研究、教育、個人的な学習目的での使用が許可されています
- 商用利用は許可されていません
- 使用の際は適切なクレジット表示をお願いします

詳細なライセンス条件は[こちら](https://creativecommons.org/licenses/by-nc/4.0/)でご確認いただけます。

Academic Use License

This software is provided for academic and educational purposes only.
Commercial use, redistribution, or any use for profit is strictly prohibited.

When using this software for academic purposes, proper attribution must be given
to the original author by citing:

Sawada, Nozomi. (2025). Lagos Weekly Record Analysis Tool.

## 謝辞
- このアプリケーションで使用されたLagos Weekly Recordのデータは、ナイジェリアの植民地初期メディア研究の一環として収集されました。
- 地図データおよびタイルは [OpenStreetMap](https://www.openstreetmap.org/) 提供のものを使用しています。
